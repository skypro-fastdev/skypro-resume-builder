<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Генератор для резюме</title>
  <script src="/assets/axios.min.js" type="text/javascript"></script>
  <script src="/assets/showdown.min.js" type="text/javascript"></script>

  <!-- Загружаем странички -->
  <script src="/pages/builder_page.js" type="text/javascript"></script>
  <script src="/pages/sender_page.js" type="text/javascript"></script>

  <!-- Загружаем компоненты -->
  <script src="components/app.js" type="text/javascript"></script>

  <script src="components/errors/student_warning.js" type="text/javascript"></script>

  <script src="components/sections/bio_section.js" type="text/javascript"></script>
  <script src="components/sections/skills_section.js" type="text/javascript"></script>
  <script src="components/sections/legend_section.js" type="text/javascript"></script>
  <script src="components/sections/previous_job_section.js" type="text/javascript"></script>
  <script src="components/sections/education_section.js" type="text/javascript"></script>
  <script src="components/sections/about_section.js" type="text/javascript"></script>
  <script src="components/sections/photo_section.js" type="text/javascript"></script>
  <script src="components/checklist_section.js" type="text/javascript"></script>
  <script src="components/sections/cover_section.js" type="text/javascript"></script>
  <script src="components/publish_section.js" type="text/javascript"></script>
  <script src="components/sections/preview_section.js" type="text/javascript"></script>
  <script src="components/sections/video_section.js" type="text/javascript"></script>

  <!--  Steps -->
  <script src="components/steps/pick_resume_step.js" type="text/javascript"></script>
  <script src="components/steps/pick_vacancy_step.js" type="text/javascript"></script>
  <script src="components/steps/cover_step.js" type="text/javascript"></script>

  <script src="assets/utils.js" type="text/javascript"></script>

  <!-- Загружаем стили -->
  <link rel="stylesheet" href="/assets/bootstrap.min.css" type="text/css">
  <link rel="stylesheet" href="assets/style.css" type="text/css">

</head>
<body>

<div class="container mt-4" id="app" v-scope="App(store)" @vue:mounted="mounted()">

  <div v-scope="VideoSection(store)"></div>

  <div class="card" v-if="!model.student_id">
    <section class="list-group-item p-4" v-scope="StudentWarning(store)"></section>
  </div>

  <div v-scope="BuilderPage(store)" v-if="model.page=='builder'"> </div><!-- /.resume-page -->
  <div v-scope="SenderPage(store)" v-if="model.page=='sender'"> </div><!-- /.sender-page -->

</div>

<script type="module">

  import { createApp, reactive } from '/assets/petite-vue.js'

  const state = {

    sections: {
      bio: "ready",
      about: "ready",
      check: "ready",
      cover: "ready",
      legend: "ready",
      recent: "ready",
      photo: "ready",
      previous_job: "ready",
      checklist: "ready",
      publish: "ready",
    },

    setStatus(section, status){
      this.sections[section] = status
      console.log("status changed")
    }
  }

  const store = reactive(state)

  const app = createApp({ store }).mount("#app")

</script>

</body>
</html>